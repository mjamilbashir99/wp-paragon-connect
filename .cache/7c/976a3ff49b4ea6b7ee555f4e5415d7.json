{"id":"node_modules/@aragon/connect-react/dist/src/index.js","dependencies":[{"name":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\@aragon\\connect-react\\dist\\src\\index.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\xampp\\htdocs\\aragon-connect\\package.json","includedInParent":true,"mtime":1595839419286},{"name":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\@aragon\\connect-react\\package.json","includedInParent":true,"mtime":1595838173215},{"name":"react","loc":{"line":26,"column":37},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\@aragon\\connect-react\\dist\\src\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\react\\index.js"},{"name":"@aragon/connect","loc":{"line":136,"column":21},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\@aragon\\connect-react\\dist\\src\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\@aragon\\connect\\dist\\index.js"}],"generated":{"js":"\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.usePermissions = exports.useApps = exports.useApp = exports.useOrganization = exports.Connect = void 0;\nconst react_1 = __importStar(require(\"react\"));\nconst connect_1 = require(\"@aragon/connect\");\nconst ConnectContext = react_1.default.createContext(null);\nfunction Connect({ children, connector, location, options, }) {\n    const [org, setOrg] = react_1.useState(null);\n    const [orgError, setOrgError] = react_1.useState(null);\n    const [orgLoading, setOrgLoading] = react_1.useState(false);\n    const cancelOrgLoading = react_1.useRef(null);\n    const loadOrg = react_1.useCallback(() => {\n        var _a;\n        let cancelled = false;\n        (_a = cancelOrgLoading.current) === null || _a === void 0 ? void 0 : _a.call(cancelOrgLoading);\n        cancelOrgLoading.current = () => {\n            cancelled = true;\n        };\n        setOrg(null);\n        setOrgLoading(true);\n        const update = async () => {\n            const done = (err, org) => {\n                if (!cancelled) {\n                    setOrgLoading(false);\n                    setOrgError(err || null);\n                    setOrg(err ? null : org);\n                }\n            };\n            try {\n                const org = await connect_1.connect(location, connector, options);\n                done(null, org);\n            }\n            catch (err) {\n                done(err, null);\n            }\n        };\n        update();\n    }, [location, connector, options]);\n    react_1.useEffect(loadOrg, [location, connector, options]);\n    const value = react_1.useMemo(() => ({\n        org,\n        orgStatus: {\n            error: orgError,\n            loading: orgLoading,\n            retry: loadOrg,\n        },\n    }), [org, orgError, orgLoading, loadOrg]);\n    return react_1.createElement(ConnectContext.Provider, { value, children });\n}\nexports.Connect = Connect;\nfunction useConnectContext() {\n    const contextValue = react_1.useContext(ConnectContext);\n    if (contextValue === null) {\n        throw new Error('The <Connect /> component need to be declared in order to use the provided hooks.');\n    }\n    return contextValue;\n}\nfunction useOrganization() {\n    const { org, orgStatus } = useConnectContext();\n    return [org, orgStatus];\n}\nexports.useOrganization = useOrganization;\nfunction useConnectSubscription(callback, initValue) {\n    const [data, setData] = react_1.useState(initValue);\n    const [loading, setLoading] = react_1.useState(false);\n    const { org, orgStatus: { loading: orgLoading }, } = useConnectContext();\n    const cancelCb = react_1.useRef(null);\n    const subscribe = react_1.useCallback(() => {\n        var _a;\n        if (!org) {\n            // If the org is loading, the subscription is loading as well.\n            setLoading(orgLoading);\n            setData(initValue);\n            return;\n        }\n        let cancelled = false;\n        let handler;\n        (_a = cancelCb.current) === null || _a === void 0 ? void 0 : _a.call(cancelCb);\n        cancelCb.current = () => {\n            var _a;\n            cancelled = true;\n            (_a = handler === null || handler === void 0 ? void 0 : handler.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(handler);\n        };\n        setLoading(true);\n        handler = callback(org, (data) => {\n            if (!cancelled) {\n                setData(data);\n                setLoading(false);\n            }\n        });\n    }, [org, orgLoading, callback]);\n    react_1.useEffect(() => {\n        subscribe();\n    }, [subscribe]);\n    return [data, { error: null, loading, retry: subscribe }];\n}\nfunction useApp(appsFilter) {\n    const callback = react_1.useCallback((org, onData) => org.onApp(appsFilter, onData), [\n        JSON.stringify(appsFilter),\n    ]);\n    return useConnectSubscription(callback, null);\n}\nexports.useApp = useApp;\nfunction useApps(appsFilter) {\n    const callback = react_1.useCallback((org, onData) => org.onApps(appsFilter, onData), [JSON.stringify(appsFilter)]);\n    return useConnectSubscription(callback, []);\n}\nexports.useApps = useApps;\nfunction usePermissions() {\n    const callback = react_1.useCallback((org, onData) => org.onPermissions(onData), []);\n    return useConnectSubscription(callback, []);\n}\nexports.usePermissions = usePermissions;\n__exportStar(require(\"@aragon/connect\"), exports);\n"},"sourceMaps":{"js":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"ff537e2ed19f7523fdce9e975be06820","cacheData":{"env":{}}}