{"id":"XVr2","dependencies":[{"name":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\index.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\xampp\\htdocs\\aragon-connect\\package.json","includedInParent":true,"mtime":1595838175389},{"name":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\package.json","includedInParent":true,"mtime":1595838173348},{"name":"@babel/runtime/helpers/interopRequireDefault","loc":{"line":1,"column":48},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\@babel\\runtime\\helpers\\interopRequireDefault.js"},{"name":"@babel/runtime/helpers/defineProperty","loc":{"line":1,"column":536},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\@babel\\runtime\\helpers\\defineProperty.js"},{"name":"@babel/runtime/helpers/objectWithoutProperties","loc":{"line":1,"column":635},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\@babel\\runtime\\helpers\\objectWithoutProperties.js"},{"name":"ethers","loc":{"line":1,"column":702},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\ethers\\dist\\ethers.umd.js"},{"name":"./helpers","loc":{"line":1,"column":729},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\helpers\\index.js"},{"name":"./lib","loc":{"line":1,"column":755},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\lib\\index.js"},{"name":"./parser","loc":{"line":1,"column":780},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\parser\\index.js"},{"name":"./scanner","loc":{"line":1,"column":809},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\index.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\scanner\\index.js"}],"generated":{"js":"\"use strict\";var e=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.evaluate=c,Object.defineProperty(exports,\"evaluateRaw\",{enumerable:!0,get:function(){return u.evaluateRaw}}),Object.defineProperty(exports,\"parse\",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(exports,\"scan\",{enumerable:!0,get:function(){return i.scan}}),exports.default=void 0;var r=e(require(\"@babel/runtime/helpers/defineProperty\")),t=e(require(\"@babel/runtime/helpers/objectWithoutProperties\")),n=require(\"ethers\"),a=require(\"./helpers\"),u=require(\"./lib\"),o=require(\"./parser\"),i=require(\"./scanner\");function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function p(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?s(Object(t),!0).forEach(function(n){(0,r.default)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))});return e}function c(e,r,o={}){let{userHelpers:i={}}=o,s=(0,t.default)(o,[\"userHelpers\"]);const c=new n.ethers.utils.Interface(r.abi),{args:l,functionFragment:b}=c.parseTransaction(r.transaction),f=b.inputs.reduce((e,r)=>p({[r.name]:{type:r.type,value:l[r.name]}},e),{}),O=p({},a.defaultHelpers,{},i),{from:y,to:d,value:j,data:v}=r.transaction;return(0,u.evaluateRaw)(e,f,p({},s,{availableHelpers:O,from:y,to:d,value:j,data:v}))}var l=c;exports.default=l;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/index.js","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":1246}},{"source":"../src/index.js","name":"evaluate","original":{"line":45,"column":9},"generated":{"line":1,"column":1255}},{"source":"../src/index.js","name":"source","original":{"line":45,"column":19},"generated":{"line":1,"column":1257}},{"source":"../src/index.js","name":"call","original":{"line":45,"column":27},"generated":{"line":1,"column":1259}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":33},"generated":{"line":1,"column":1261}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":68},"generated":{"line":1,"column":1263}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":1267}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":33},"generated":{"line":1,"column":1271}},{"source":"../src/index.js","name":"userHelpers","original":{"line":45,"column":35},"generated":{"line":1,"column":1283}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":49},"generated":{"line":1,"column":1285}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":1289}},{"source":"../src/index.js","name":"options","original":{"line":45,"column":56},"generated":{"line":1,"column":1291}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":1294}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":1296}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":1298}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":1307}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":1309}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":1310}},{"source":"../src/index.js","name":null,"original":{"line":45,"column":72},"generated":{"line":1,"column":1326}},{"source":"../src/index.js","name":"ethersInterface","original":{"line":47,"column":8},"generated":{"line":1,"column":1332}},{"source":"../src/index.js","name":null,"original":{"line":47,"column":26},"generated":{"line":1,"column":1334}},{"source":"../src/index.js","name":"ethers","original":{"line":47,"column":30},"generated":{"line":1,"column":1338}},{"source":"../src/index.js","name":"ethers","original":{"line":47,"column":30},"generated":{"line":1,"column":1340}},{"source":"../src/index.js","name":"utils","original":{"line":47,"column":37},"generated":{"line":1,"column":1347}},{"source":"../src/index.js","name":"Interface","original":{"line":47,"column":43},"generated":{"line":1,"column":1353}},{"source":"../src/index.js","name":"call","original":{"line":47,"column":53},"generated":{"line":1,"column":1363}},{"source":"../src/index.js","name":"abi","original":{"line":47,"column":58},"generated":{"line":1,"column":1365}},{"source":"../src/index.js","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":1371}},{"source":"../src/index.js","name":"args","original":{"line":50,"column":10},"generated":{"line":1,"column":1376}},{"source":"../src/index.js","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":1378}},{"source":"../src/index.js","name":"functionFragment","original":{"line":50,"column":16},"generated":{"line":1,"column":1395}},{"source":"../src/index.js","name":"ethersInterface","original":{"line":50,"column":37},"generated":{"line":1,"column":1398}},{"source":"../src/index.js","name":"parseTransaction","original":{"line":50,"column":53},"generated":{"line":1,"column":1400}},{"source":"../src/index.js","name":"call","original":{"line":51,"column":4},"generated":{"line":1,"column":1417}},{"source":"../src/index.js","name":"transaction","original":{"line":51,"column":9},"generated":{"line":1,"column":1419}},{"source":"../src/index.js","name":"parameters","original":{"line":54,"column":8},"generated":{"line":1,"column":1432}},{"source":"../src/index.js","name":"functionFragment","original":{"line":54,"column":21},"generated":{"line":1,"column":1434}},{"source":"../src/index.js","name":"inputs","original":{"line":54,"column":38},"generated":{"line":1,"column":1436}},{"source":"../src/index.js","name":"reduce","original":{"line":54,"column":45},"generated":{"line":1,"column":1443}},{"source":"../src/index.js","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":1450}},{"source":"../src/index.js","name":"parameters","original":{"line":55,"column":5},"generated":{"line":1,"column":1451}},{"source":"../src/index.js","name":"input","original":{"line":55,"column":17},"generated":{"line":1,"column":1453}},{"source":"../src/index.js","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":1457}},{"source":"../src/index.js","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":1459}},{"source":"../src/index.js","name":null,"original":{"line":56,"column":6},"generated":{"line":1,"column":1460}},{"source":"../src/index.js","name":"input","original":{"line":56,"column":7},"generated":{"line":1,"column":1461}},{"source":"../src/index.js","name":"name","original":{"line":56,"column":13},"generated":{"line":1,"column":1463}},{"source":"../src/index.js","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":1469}},{"source":"../src/index.js","name":"type","original":{"line":57,"column":8},"generated":{"line":1,"column":1470}},{"source":"../src/index.js","name":"input","original":{"line":57,"column":14},"generated":{"line":1,"column":1475}},{"source":"../src/index.js","name":"type","original":{"line":57,"column":20},"generated":{"line":1,"column":1477}},{"source":"../src/index.js","name":"value","original":{"line":58,"column":8},"generated":{"line":1,"column":1482}},{"source":"../src/index.js","name":"args","original":{"line":58,"column":15},"generated":{"line":1,"column":1488}},{"source":"../src/index.js","name":"input","original":{"line":58,"column":20},"generated":{"line":1,"column":1490}},{"source":"../src/index.js","name":"name","original":{"line":58,"column":26},"generated":{"line":1,"column":1492}},{"source":"../src/index.js","name":"parameters","original":{"line":60,"column":9},"generated":{"line":1,"column":1500}},{"source":"../src/index.js","name":null,"original":{"line":62,"column":4},"generated":{"line":1,"column":1503}},{"source":"../src/index.js","name":"availableHelpers","original":{"line":65,"column":8},"generated":{"line":1,"column":1507}},{"source":"../src/index.js","name":null,"original":{"line":65,"column":24},"generated":{"line":1,"column":1509}},{"source":"../src/index.js","name":null,"original":{"line":65,"column":24},"generated":{"line":1,"column":1511}},{"source":"../src/index.js","name":"defaultHelpers","original":{"line":65,"column":32},"generated":{"line":1,"column":1514}},{"source":"../src/index.js","name":"defaultHelpers","original":{"line":65,"column":32},"generated":{"line":1,"column":1516}},{"source":"../src/index.js","name":null,"original":{"line":65,"column":24},"generated":{"line":1,"column":1531}},{"source":"../src/index.js","name":"userHelpers","original":{"line":65,"column":51},"generated":{"line":1,"column":1534}},{"source":"../src/index.js","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1538}},{"source":"../src/index.js","name":"from","original":{"line":68,"column":10},"generated":{"line":1,"column":1543}},{"source":"../src/index.js","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1545}},{"source":"../src/index.js","name":"to","original":{"line":68,"column":16},"generated":{"line":1,"column":1548}},{"source":"../src/index.js","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1550}},{"source":"../src/index.js","name":"value","original":{"line":68,"column":20},"generated":{"line":1,"column":1556}},{"source":"../src/index.js","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1558}},{"source":"../src/index.js","name":"data","original":{"line":68,"column":27},"generated":{"line":1,"column":1563}},{"source":"../src/index.js","name":"call","original":{"line":68,"column":36},"generated":{"line":1,"column":1566}},{"source":"../src/index.js","name":"transaction","original":{"line":68,"column":41},"generated":{"line":1,"column":1568}},{"source":"../src/index.js","name":null,"original":{"line":71,"column":2},"generated":{"line":1,"column":1580}},{"source":"../src/index.js","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1587}},{"source":"../src/index.js","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1589}},{"source":"../src/index.js","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1591}},{"source":"../src/index.js","name":"source","original":{"line":71,"column":21},"generated":{"line":1,"column":1604}},{"source":"../src/index.js","name":"parameters","original":{"line":71,"column":29},"generated":{"line":1,"column":1606}},{"source":"../src/index.js","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1608}},{"source":"../src/index.js","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1610}},{"source":"../src/index.js","name":"options","original":{"line":72,"column":7},"generated":{"line":1,"column":1613}},{"source":"../src/index.js","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1615}},{"source":"../src/index.js","name":"availableHelpers","original":{"line":73,"column":4},"generated":{"line":1,"column":1616}},{"source":"../src/index.js","name":"availableHelpers","original":{"line":73,"column":4},"generated":{"line":1,"column":1633}},{"source":"../src/index.js","name":"from","original":{"line":74,"column":4},"generated":{"line":1,"column":1635}},{"source":"../src/index.js","name":"from","original":{"line":74,"column":4},"generated":{"line":1,"column":1640}},{"source":"../src/index.js","name":"to","original":{"line":75,"column":4},"generated":{"line":1,"column":1642}},{"source":"../src/index.js","name":"to","original":{"line":75,"column":4},"generated":{"line":1,"column":1645}},{"source":"../src/index.js","name":"value","original":{"line":76,"column":4},"generated":{"line":1,"column":1647}},{"source":"../src/index.js","name":"value","original":{"line":76,"column":4},"generated":{"line":1,"column":1653}},{"source":"../src/index.js","name":"data","original":{"line":77,"column":4},"generated":{"line":1,"column":1655}},{"source":"../src/index.js","name":"data","original":{"line":77,"column":4},"generated":{"line":1,"column":1660}},{"source":"../src/index.js","name":"evaluate","original":{"line":81,"column":15},"generated":{"line":1,"column":1671}}],"sources":{"../src/index.js":"/**\n * @typedef {Object} Binding\n * @property {string} type The type of the binding (a valid Radspec type)\n * @property {*} value The value of the binding\n */\n/**\n * @typedef {Object.<string, Binding>} Bindings\n */\n\n/**\n * @module radspec\n */\nimport { ethers } from 'ethers'\nimport { defaultHelpers } from './helpers'\nimport { evaluateRaw } from './lib'\n\n/**\n * Evaluate a radspec expression (`source`) for a transaction (`call`)\n *\n * @example\n * import * as radspec from 'radspec'\n *\n * const expression = 'Will multiply `a` by 7 and return `a * 7`.'\n * const call = {\n *   abi: ['function multiply(uint256 a) public view returns(uint256)'],\n *   transaction: {\n *     to: '0x8521742d3f456bd237e312d6e30724960f72517a',\n *     data: '0xc6888fa1000000000000000000000000000000000000000000000000000000000000007a'\n *   }\n * }\n *\n * radspec.evaluate(expression, call)\n *   .then(console.log) // => \"Will multiply 122 by 7 and return 854.\"\n * @param {string} source The radspec expression\n * @param {Object} call The call that determines the bindings for this evaluation\n * @param {Array} call.abi The ABI used to decode the transaction data\n * @param {Object} call.transaction The transaction to decode for this evaluation\n * @param {string} call.transaction.to The destination address for this transaction\n * @param {string} call.transaction.data The transaction data\n * @param {?Object} options An options object\n * @param {?ethers.providers.Provider} options.provider EIP 1193 provider\n * @param {?Object} options.userHelpers User defined helpers\n * @return {Promise<string>} The result of the evaluation\n */\nfunction evaluate (source, call, { userHelpers = {}, ...options } = {}) {\n  // Create ethers interface object\n  const ethersInterface = new ethers.utils.Interface(call.abi)\n\n  // Parse as an ethers TransactionDescription\n  const { args, functionFragment } = ethersInterface.parseTransaction(\n    call.transaction\n  )\n\n  const parameters = functionFragment.inputs.reduce(\n    (parameters, input) => ({\n      [input.name]: {\n        type: input.type,\n        value: args[input.name]\n      },\n      ...parameters\n    }),\n    {}\n  )\n\n  const availableHelpers = { ...defaultHelpers, ...userHelpers }\n\n  // Get additional options\n  const { from, to, value, data } = call.transaction\n\n  // Evaluate expression with bindings from the transaction data\n  return evaluateRaw(source, parameters, {\n    ...options,\n    availableHelpers,\n    from,\n    to,\n    value,\n    data\n  })\n}\n\nexport default evaluate\nexport { evaluate, evaluateRaw }\n\n// Re-export some commonly used inner functionality\nexport { parse } from './parser'\nexport { scan } from './scanner'\n"},"lineCount":null}},"error":null,"hash":"35fddf5613ce92767fb7fef396e28221","cacheData":{"env":{}}}