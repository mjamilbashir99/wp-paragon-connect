{"id":"q4TE","dependencies":[{"name":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\helpers\\lib\\formatBN.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\xampp\\htdocs\\aragon-connect\\package.json","includedInParent":true,"mtime":1595838175389},{"name":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\package.json","includedInParent":true,"mtime":1595838173348},{"name":"ethers","loc":{"line":1,"column":33},"parent":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\radspec\\dist\\helpers\\lib\\formatBN.js","resolved":"C:\\xampp\\htdocs\\aragon-connect\\node_modules\\ethers\\dist\\ethers.umd.js"}],"generated":{"js":"\"use strict\";var e=require(\"ethers\");function r(r,t){return r=r.replace(/0+$/,\"\"),t=t.replace(/0+$/,\"\"),e.BigNumber.from(`1${r}`).eq(e.BigNumber.from(`1${t}`))}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.formatBN=exports.tenPow=void 0;const t=r=>e.BigNumber.from(10).pow(e.BigNumber.from(r));exports.tenPow=t;const o=(e,t,o,n=!1)=>{const s=t.toString().length,i=e.div(t).toString();let m=e.mod(t).toString();const p=(m=`${\"0\".repeat(Math.max(0,s-m.length-1))}${m}`).replace(/0+$/,\"\"),a=(n?m:p).slice(0,o);return n||\"\"!==a&&0!==parseInt(a,10)?`${r(a,m)?\"\":\"~\"}${i}.${a}`:i};exports.formatBN=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":37}},{"source":"../../../src/helpers/lib/formatBN.js","name":"sameFraction","original":{"line":3,"column":9},"generated":{"line":1,"column":46}},{"source":"../../../src/helpers/lib/formatBN.js","name":"first","original":{"line":3,"column":23},"generated":{"line":1,"column":48}},{"source":"../../../src/helpers/lib/formatBN.js","name":"second","original":{"line":3,"column":30},"generated":{"line":1,"column":50}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":53}},{"source":"../../../src/helpers/lib/formatBN.js","name":"first","original":{"line":5,"column":2},"generated":{"line":1,"column":60}},{"source":"../../../src/helpers/lib/formatBN.js","name":"first","original":{"line":5,"column":10},"generated":{"line":1,"column":62}},{"source":"../../../src/helpers/lib/formatBN.js","name":"replace","original":{"line":5,"column":16},"generated":{"line":1,"column":64}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":5,"column":24},"generated":{"line":1,"column":72}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":5,"column":31},"generated":{"line":1,"column":78}},{"source":"../../../src/helpers/lib/formatBN.js","name":"second","original":{"line":6,"column":2},"generated":{"line":1,"column":82}},{"source":"../../../src/helpers/lib/formatBN.js","name":"second","original":{"line":6,"column":11},"generated":{"line":1,"column":84}},{"source":"../../../src/helpers/lib/formatBN.js","name":"replace","original":{"line":6,"column":18},"generated":{"line":1,"column":86}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":6,"column":26},"generated":{"line":1,"column":94}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":6,"column":33},"generated":{"line":1,"column":100}},{"source":"../../../src/helpers/lib/formatBN.js","name":"BigNumber","original":{"line":13,"column":9},"generated":{"line":1,"column":104}},{"source":"../../../src/helpers/lib/formatBN.js","name":"BigNumber","original":{"line":13,"column":9},"generated":{"line":1,"column":106}},{"source":"../../../src/helpers/lib/formatBN.js","name":"from","original":{"line":13,"column":19},"generated":{"line":1,"column":116}},{"source":"../../../src/helpers/lib/formatBN.js","name":"first","original":{"line":13,"column":28},"generated":{"line":1,"column":125}},{"source":"../../../src/helpers/lib/formatBN.js","name":"eq","original":{"line":13,"column":37},"generated":{"line":1,"column":130}},{"source":"../../../src/helpers/lib/formatBN.js","name":"BigNumber","original":{"line":13,"column":40},"generated":{"line":1,"column":133}},{"source":"../../../src/helpers/lib/formatBN.js","name":"BigNumber","original":{"line":13,"column":40},"generated":{"line":1,"column":135}},{"source":"../../../src/helpers/lib/formatBN.js","name":"from","original":{"line":13,"column":50},"generated":{"line":1,"column":145}},{"source":"../../../src/helpers/lib/formatBN.js","name":"second","original":{"line":13,"column":59},"generated":{"line":1,"column":154}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":16,"column":7},"generated":{"line":1,"column":254}},{"source":"../../../src/helpers/lib/formatBN.js","name":"tenPow","original":{"line":16,"column":13},"generated":{"line":1,"column":260}},{"source":"../../../src/helpers/lib/formatBN.js","name":"x","original":{"line":16,"column":23},"generated":{"line":1,"column":262}},{"source":"../../../src/helpers/lib/formatBN.js","name":"BigNumber","original":{"line":16,"column":29},"generated":{"line":1,"column":265}},{"source":"../../../src/helpers/lib/formatBN.js","name":"BigNumber","original":{"line":16,"column":29},"generated":{"line":1,"column":267}},{"source":"../../../src/helpers/lib/formatBN.js","name":"from","original":{"line":16,"column":39},"generated":{"line":1,"column":277}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":16,"column":44},"generated":{"line":1,"column":282}},{"source":"../../../src/helpers/lib/formatBN.js","name":"pow","original":{"line":16,"column":48},"generated":{"line":1,"column":286}},{"source":"../../../src/helpers/lib/formatBN.js","name":"BigNumber","original":{"line":16,"column":52},"generated":{"line":1,"column":290}},{"source":"../../../src/helpers/lib/formatBN.js","name":"BigNumber","original":{"line":16,"column":52},"generated":{"line":1,"column":292}},{"source":"../../../src/helpers/lib/formatBN.js","name":"from","original":{"line":16,"column":62},"generated":{"line":1,"column":302}},{"source":"../../../src/helpers/lib/formatBN.js","name":"x","original":{"line":16,"column":67},"generated":{"line":1,"column":307}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":18,"column":7},"generated":{"line":1,"column":328}},{"source":"../../../src/helpers/lib/formatBN.js","name":"formatBN","original":{"line":18,"column":13},"generated":{"line":1,"column":334}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":18,"column":24},"generated":{"line":1,"column":336}},{"source":"../../../src/helpers/lib/formatBN.js","name":"amount","original":{"line":18,"column":25},"generated":{"line":1,"column":337}},{"source":"../../../src/helpers/lib/formatBN.js","name":"base","original":{"line":18,"column":33},"generated":{"line":1,"column":339}},{"source":"../../../src/helpers/lib/formatBN.js","name":"precision","original":{"line":18,"column":39},"generated":{"line":1,"column":341}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fixed","original":{"line":18,"column":50},"generated":{"line":1,"column":343}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":18,"column":55},"generated":{"line":1,"column":346}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":18,"column":68},"generated":{"line":1,"column":351}},{"source":"../../../src/helpers/lib/formatBN.js","name":"baseLength","original":{"line":20,"column":8},"generated":{"line":1,"column":357}},{"source":"../../../src/helpers/lib/formatBN.js","name":"base","original":{"line":20,"column":21},"generated":{"line":1,"column":359}},{"source":"../../../src/helpers/lib/formatBN.js","name":"toString","original":{"line":20,"column":26},"generated":{"line":1,"column":361}},{"source":"../../../src/helpers/lib/formatBN.js","name":"length","original":{"line":20,"column":37},"generated":{"line":1,"column":372}},{"source":"../../../src/helpers/lib/formatBN.js","name":"whole","original":{"line":22,"column":8},"generated":{"line":1,"column":379}},{"source":"../../../src/helpers/lib/formatBN.js","name":"amount","original":{"line":22,"column":16},"generated":{"line":1,"column":381}},{"source":"../../../src/helpers/lib/formatBN.js","name":"div","original":{"line":22,"column":23},"generated":{"line":1,"column":383}},{"source":"../../../src/helpers/lib/formatBN.js","name":"base","original":{"line":22,"column":27},"generated":{"line":1,"column":387}},{"source":"../../../src/helpers/lib/formatBN.js","name":"toString","original":{"line":22,"column":33},"generated":{"line":1,"column":390}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":401}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fraction","original":{"line":23,"column":6},"generated":{"line":1,"column":405}},{"source":"../../../src/helpers/lib/formatBN.js","name":"amount","original":{"line":23,"column":17},"generated":{"line":1,"column":407}},{"source":"../../../src/helpers/lib/formatBN.js","name":"mod","original":{"line":23,"column":24},"generated":{"line":1,"column":409}},{"source":"../../../src/helpers/lib/formatBN.js","name":"base","original":{"line":23,"column":28},"generated":{"line":1,"column":413}},{"source":"../../../src/helpers/lib/formatBN.js","name":"toString","original":{"line":23,"column":34},"generated":{"line":1,"column":416}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":427}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fractionWithoutTrailingZeros","original":{"line":27,"column":8},"generated":{"line":1,"column":433}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fraction","original":{"line":26,"column":2},"generated":{"line":1,"column":436}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":441}},{"source":"../../../src/helpers/lib/formatBN.js","name":"repeat","original":{"line":24,"column":20},"generated":{"line":1,"column":445}},{"source":"../../../src/helpers/lib/formatBN.js","name":"Math","original":{"line":24,"column":27},"generated":{"line":1,"column":452}},{"source":"../../../src/helpers/lib/formatBN.js","name":"max","original":{"line":24,"column":32},"generated":{"line":1,"column":457}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":24,"column":36},"generated":{"line":1,"column":461}},{"source":"../../../src/helpers/lib/formatBN.js","name":"baseLength","original":{"line":24,"column":39},"generated":{"line":1,"column":463}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fraction","original":{"line":24,"column":52},"generated":{"line":1,"column":465}},{"source":"../../../src/helpers/lib/formatBN.js","name":"length","original":{"line":24,"column":61},"generated":{"line":1,"column":467}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":24,"column":70},"generated":{"line":1,"column":474}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fraction","original":{"line":26,"column":24},"generated":{"line":1,"column":480}},{"source":"../../../src/helpers/lib/formatBN.js","name":"replace","original":{"line":27,"column":48},"generated":{"line":1,"column":485}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":27,"column":56},"generated":{"line":1,"column":493}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":27,"column":63},"generated":{"line":1,"column":499}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fractionAfterPrecision","original":{"line":28,"column":8},"generated":{"line":1,"column":503}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fixed","original":{"line":28,"column":34},"generated":{"line":1,"column":506}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fraction","original":{"line":29,"column":6},"generated":{"line":1,"column":508}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fractionWithoutTrailingZeros","original":{"line":30,"column":6},"generated":{"line":1,"column":510}},{"source":"../../../src/helpers/lib/formatBN.js","name":"slice","original":{"line":31,"column":4},"generated":{"line":1,"column":513}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":519}},{"source":"../../../src/helpers/lib/formatBN.js","name":"precision","original":{"line":31,"column":13},"generated":{"line":1,"column":521}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":524}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fixed","original":{"line":34,"column":5},"generated":{"line":1,"column":531}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":35,"column":32},"generated":{"line":1,"column":534}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fractionAfterPrecision","original":{"line":35,"column":5},"generated":{"line":1,"column":539}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":36,"column":47},"generated":{"line":1,"column":542}},{"source":"../../../src/helpers/lib/formatBN.js","name":"parseInt","original":{"line":36,"column":6},"generated":{"line":1,"column":546}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fractionAfterPrecision","original":{"line":36,"column":15},"generated":{"line":1,"column":555}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":36,"column":39},"generated":{"line":1,"column":557}},{"source":"../../../src/helpers/lib/formatBN.js","name":"sameFraction","original":{"line":41,"column":17},"generated":{"line":1,"column":564}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fractionAfterPrecision","original":{"line":41,"column":30},"generated":{"line":1,"column":566}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fraction","original":{"line":41,"column":54},"generated":{"line":1,"column":568}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":41,"column":66},"generated":{"line":1,"column":571}},{"source":"../../../src/helpers/lib/formatBN.js","name":null,"original":{"line":41,"column":71},"generated":{"line":1,"column":574}},{"source":"../../../src/helpers/lib/formatBN.js","name":"whole","original":{"line":43,"column":21},"generated":{"line":1,"column":580}},{"source":"../../../src/helpers/lib/formatBN.js","name":"fractionAfterPrecision","original":{"line":43,"column":30},"generated":{"line":1,"column":585}},{"source":"../../../src/helpers/lib/formatBN.js","name":"whole","original":{"line":38,"column":11},"generated":{"line":1,"column":589}}],"sources":{"../../../src/helpers/lib/formatBN.js":"import { BigNumber } from 'ethers'\n\nfunction sameFraction (first, second) {\n  // First remove any trailing zeros, since they're meaningless in fractions\n  first = first.replace(/0+$/, '')\n  second = second.replace(/0+$/, '')\n\n  // Check that these two values are the same.\n  // Note that leading zeros ARE meaningful, and so we do the comparision after\n  // appending a one as the first digit.\n  //\n  // For example, .001 and .00100 are the same value, but .0001 and .001 are not.\n  return BigNumber.from(`1${first}`).eq(BigNumber.from(`1${second}`))\n}\n\nexport const tenPow = (x) => BigNumber.from(10).pow(BigNumber.from(x))\n\nexport const formatBN = (amount, base, precision, fixed = false) => {\n  // Inspired by: https://github.com/ethjs/ethjs-unit/blob/35d870eae1c32c652da88837a71e252a63a83ebb/src/index.js#L83\n  const baseLength = base.toString().length\n\n  const whole = amount.div(base).toString()\n  let fraction = amount.mod(base).toString()\n  const zeros = '0'.repeat(Math.max(0, baseLength - fraction.length - 1))\n\n  fraction = `${zeros}${fraction}`\n  const fractionWithoutTrailingZeros = fraction.replace(/0+$/, '')\n  const fractionAfterPrecision = (fixed\n    ? fraction\n    : fractionWithoutTrailingZeros\n  ).slice(0, precision)\n\n  if (\n    !fixed &&\n    (fractionAfterPrecision === '' ||\n      parseInt(fractionAfterPrecision, 10) === 0)\n  ) {\n    return whole\n  }\n\n  const prefix = sameFraction(fractionAfterPrecision, fraction) ? '' : '~'\n\n  return `${prefix}${whole}.${fractionAfterPrecision}`\n}\n"},"lineCount":null}},"error":null,"hash":"130cbb63d9860b53bf640ee65937fd6f","cacheData":{"env":{}}}