{"id":"node_modules/radspec/dist/helpers/lib/methodRegistry.js","dependencies":[{"name":"C:\\xampp\\htdocs\\test_wp\\node_modules\\radspec\\dist\\helpers\\lib\\methodRegistry.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\xampp\\htdocs\\test_wp\\package.json","includedInParent":true,"mtime":1595855422975},{"name":"C:\\xampp\\htdocs\\test_wp\\node_modules\\radspec\\package.json","includedInParent":true,"mtime":1595838173348},{"name":"ethers","loc":{"line":1,"column":111},"parent":"C:\\xampp\\htdocs\\test_wp\\node_modules\\radspec\\dist\\helpers\\lib\\methodRegistry.js","resolved":"C:\\xampp\\htdocs\\test_wp\\node_modules\\ethers\\dist\\ethers.umd.js"},{"name":"../../defaults","loc":{"line":1,"column":139},"parent":"C:\\xampp\\htdocs\\test_wp\\node_modules\\radspec\\dist\\helpers\\lib\\methodRegistry.js","resolved":"C:\\xampp\\htdocs\\test_wp\\node_modules\\radspec\\dist\\defaults.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _ethers=require(\"ethers\"),_defaults=require(\"../../defaults\");// From: https://github.com/danfinlay/eth-method-registry\nconst REGISTRY_LOOKUP_ABI=[\"function entries(bytes4) public view returns (string)\"],REGISTRY_MAP={1:\"0x44691B39d1a75dC4E0A0346CBB15E310e6ED1E86\"};// networkId -> registry address\nclass MethodRegistry{constructor(opts={}){this.provider=opts.provider||new _ethers.ethers.providers.WebSocketProvider(_defaults.DEFAULT_ETH_NODE),this.registryAddres=opts.registry||REGISTRY_MAP[opts.network]}async initRegistry(){if(!this.registryAddres)throw new Error(\"No method registry found for the network.\");this.registry=new _ethers.ethers.Contract(this.registryAddres,REGISTRY_LOOKUP_ABI,this.provider)}async lookup(sigBytes){return this.registry||(await this.initRegistry()),this.registry.entries(sigBytes)}}exports.default=MethodRegistry;\n"},"sourceMaps":{"js":{"version":3,"sources":["../../../src/helpers/lib/methodRegistry.js"],"names":["REGISTRY_LOOKUP_ABI","REGISTRY_MAP","MethodRegistry","constructor","opts","provider","ethers","providers","WebSocketProvider","DEFAULT_ETH_NODE","registryAddres","registry","network","initRegistry","Error","Contract","lookup","sigBytes","entries"],"mappings":"6JAAA;KAKMA,CAAAA,mBAAmB,CAAG,CAC1B,uDAD0B,C,CAKtBC,YAAY,CAAG,CACnB,EAAG,4CADgB,C,CADrB;AAKe,KAAMC,CAAAA,cAAe,CAClCC,WAAW,CAAEC,IAAI,CAAG,EAAT,CAAa,CACtB,KAAKC,QAAL,CACED,IAAI,CAACC,QAAL,EAAiB,GAAIC,gBAAOC,SAAP,CAAiBC,iBAArB,CAAuCC,0BAAvC,CAFG,CAGtB,KAAKC,cAAL,CAAsBN,IAAI,CAACO,QAAL,EAAiBV,YAAY,CAACG,IAAI,CAACQ,OAAN,CACpD,CAED,KAAMC,CAAAA,YAAN,EAAsB,CACpB,GAAI,CAAC,KAAKH,cAAV,CACE,KAAM,IAAII,CAAAA,KAAJ,CAAU,2CAAV,CAAN,CAGF,KAAKH,QAAL,CAAgB,GAAIL,gBAAOS,QAAX,CACd,KAAKL,cADS,CAEdV,mBAFc,CAGd,KAAKK,QAHS,CAKjB,CAED,KAAMW,CAAAA,MAAN,CAAcC,QAAd,CAAwB,CAKtB,MAJK,MAAKN,QAIV,GAHE,KAAM,MAAKE,YAAL,EAGR,EAAO,KAAKF,QAAL,CAAcO,OAAd,CAAsBD,QAAtB,CACR,CAzBiC,C","sourcesContent":["// From: https://github.com/danfinlay/eth-method-registry\nimport { ethers } from 'ethers'\n\nimport { DEFAULT_ETH_NODE } from '../../defaults'\n\nconst REGISTRY_LOOKUP_ABI = [\n  'function entries(bytes4) public view returns (string)'\n]\n\n// networkId -> registry address\nconst REGISTRY_MAP = {\n  1: '0x44691B39d1a75dC4E0A0346CBB15E310e6ED1E86'\n}\n\nexport default class MethodRegistry {\n  constructor (opts = {}) {\n    this.provider =\n      opts.provider || new ethers.providers.WebSocketProvider(DEFAULT_ETH_NODE)\n    this.registryAddres = opts.registry || REGISTRY_MAP[opts.network]\n  }\n\n  async initRegistry () {\n    if (!this.registryAddres) {\n      throw new Error('No method registry found for the network.')\n    }\n\n    this.registry = new ethers.Contract(\n      this.registryAddres,\n      REGISTRY_LOOKUP_ABI,\n      this.provider\n    )\n  }\n\n  async lookup (sigBytes) {\n    if (!this.registry) {\n      await this.initRegistry()\n    }\n\n    return this.registry.entries(sigBytes)\n  }\n}\n"],"file":"methodRegistry.js"}},"error":null,"hash":"3ccaea672e920d74d9cdcfdcd01bcb52","cacheData":{"env":{}}}