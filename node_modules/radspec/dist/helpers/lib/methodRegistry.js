"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ethers=require("ethers"),_defaults=require("../../defaults");// From: https://github.com/danfinlay/eth-method-registry
const REGISTRY_LOOKUP_ABI=["function entries(bytes4) public view returns (string)"],REGISTRY_MAP={1:"0x44691B39d1a75dC4E0A0346CBB15E310e6ED1E86"};// networkId -> registry address
class MethodRegistry{constructor(opts={}){this.provider=opts.provider||new _ethers.ethers.providers.WebSocketProvider(_defaults.DEFAULT_ETH_NODE),this.registryAddres=opts.registry||REGISTRY_MAP[opts.network]}async initRegistry(){if(!this.registryAddres)throw new Error("No method registry found for the network.");this.registry=new _ethers.ethers.Contract(this.registryAddres,REGISTRY_LOOKUP_ABI,this.provider)}async lookup(sigBytes){return this.registry||(await this.initRegistry()),this.registry.entries(sigBytes)}}exports.default=MethodRegistry;
//# sourceMappingURL=methodRegistry.js.map